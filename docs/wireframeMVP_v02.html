<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FreelanceOS - Component Library & Implementation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <style>
      :root {
        /* Brand Colors */
        --primary: #007bff;
        --primary-dark: #0056b3;
        --primary-light: #e7f3ff;
        --success: #28a745;
        --success-light: #e8f5e8;
        --warning: #ffc107;
        --warning-light: #fff3cd;
        --danger: #dc3545;
        --danger-light: #fee;
        --dark: #343a40;
        --gray: #6c757d;
        --light-gray: #f8f9fa;
        --border: #dee2e6;

        /* Spacing */
        --spacing-xs: 4px;
        --spacing-sm: 8px;
        --spacing-md: 16px;
        --spacing-lg: 24px;
        --spacing-xl: 32px;

        /* Border Radius */
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --radius-full: 50%;

        /* Shadows */
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.1);
        --shadow-hover: 0 4px 12px rgba(0, 0, 0, 0.15);

        /* Transitions */
        --transition-fast: 150ms ease;
        --transition-normal: 300ms ease;
        --transition-slow: 500ms ease;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
          Cantarell, sans-serif;
        background: #f5f7fa;
        color: var(--dark);
        line-height: 1.6;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: var(--spacing-lg);
      }

      .component-section {
        background: white;
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        margin-bottom: var(--spacing-xl);
        box-shadow: var(--shadow-md);
      }

      .component-header {
        border-bottom: 2px solid var(--border);
        padding-bottom: var(--spacing-md);
        margin-bottom: var(--spacing-xl);
      }

      .component-demo {
        background: var(--light-gray);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        padding: var(--spacing-lg);
        margin: var(--spacing-lg) 0;
      }

      .code-block {
        background: #1e1e1e;
        color: #d4d4d4;
        padding: var(--spacing-lg);
        border-radius: var(--radius-md);
        overflow-x: auto;
        margin: var(--spacing-md) 0;
        font-family: "Monaco", "Consolas", monospace;
        font-size: 14px;
        line-height: 1.5;
      }

      /* Component Styles */

      /* Progress Steps */
      .progress-steps {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: var(--spacing-xl) 0;
        flex-wrap: wrap;
      }

      .progress-step {
        display: flex;
        align-items: center;
        margin: var(--spacing-sm);
      }

      .step-circle {
        width: 48px;
        height: 48px;
        border-radius: var(--radius-full);
        background: var(--border);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        transition: all var(--transition-normal);
        position: relative;
      }

      .progress-step.active .step-circle {
        background: var(--primary);
        color: white;
        transform: scale(1.1);
        box-shadow: 0 0 0 4px var(--primary-light);
      }

      .progress-step.completed .step-circle {
        background: var(--success);
        color: white;
      }

      .step-label {
        margin-left: var(--spacing-sm);
        font-size: 14px;
        color: var(--gray);
        transition: color var(--transition-normal);
      }

      .progress-step.active .step-label,
      .progress-step.completed .step-label {
        color: var(--dark);
        font-weight: 500;
      }

      .step-line {
        width: 60px;
        height: 2px;
        background: var(--border);
        margin: 0 var(--spacing-sm);
        transition: background var(--transition-normal);
      }

      .step-line.completed {
        background: var(--success);
      }

      /* Metric Cards */
      .metric-card {
        background: white;
        border: 2px solid var(--border);
        border-radius: var(--radius-lg);
        padding: var(--spacing-lg);
        text-align: center;
        transition: all var(--transition-normal);
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .metric-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--primary);
        transform: translateY(-100%);
        transition: transform var(--transition-normal);
      }

      .metric-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-hover);
        border-color: var(--primary);
      }

      .metric-card:hover::before {
        transform: translateY(0);
      }

      .metric-icon {
        font-size: 48px;
        margin-bottom: var(--spacing-md);
        transition: transform var(--transition-normal);
      }

      .metric-card:hover .metric-icon {
        transform: scale(1.1);
      }

      .metric-value {
        font-size: 36px;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: var(--spacing-xs);
      }

      .metric-label {
        color: var(--gray);
        font-size: 14px;
      }

      .metric-trend {
        display: inline-flex;
        align-items: center;
        font-size: 12px;
        margin-top: var(--spacing-sm);
        padding: 4px 8px;
        border-radius: var(--radius-sm);
        background: var(--success-light);
        color: var(--success);
      }

      .metric-trend.down {
        background: var(--danger-light);
        color: var(--danger);
      }

      /* Job Cards */
      .job-card {
        background: white;
        border: 2px solid var(--border);
        border-radius: var(--radius-md);
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-md);
        transition: all var(--transition-normal);
        cursor: pointer;
        position: relative;
      }

      .job-card:hover {
        border-color: var(--primary);
        box-shadow: var(--shadow-md);
      }

      .job-card.high-value {
        border-left: 4px solid var(--success);
      }

      .job-card.selected {
        background: var(--primary-light);
        border-color: var(--primary);
      }

      .job-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: var(--spacing-md);
      }

      .job-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--dark);
        margin-bottom: var(--spacing-xs);
      }

      .job-meta {
        display: flex;
        gap: var(--spacing-md);
        color: var(--gray);
        font-size: 14px;
        margin-bottom: var(--spacing-sm);
      }

      .job-badges {
        display: flex;
        gap: var(--spacing-sm);
        flex-wrap: wrap;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        padding: 4px 12px;
        border-radius: var(--radius-sm);
        font-size: 12px;
        font-weight: 500;
        transition: all var(--transition-fast);
      }

      .badge-success {
        background: var(--success-light);
        color: var(--success);
      }

      .badge-primary {
        background: var(--primary-light);
        color: var(--primary);
      }

      .badge-warning {
        background: var(--warning-light);
        color: #856404;
      }

      /* Smart Tooltips */
      .tooltip-trigger {
        position: relative;
        display: inline-flex;
        align-items: center;
        cursor: help;
      }

      .tooltip-icon {
        width: 16px;
        height: 16px;
        border-radius: var(--radius-full);
        background: var(--primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        margin-left: var(--spacing-xs);
      }

      .tooltip-content {
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(-8px);
        background: var(--dark);
        color: white;
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: var(--radius-md);
        font-size: 14px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: all var(--transition-fast);
        z-index: 1000;
        box-shadow: var(--shadow-lg);
      }

      .tooltip-content::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 6px solid transparent;
        border-right: 6px solid transparent;
        border-top: 6px solid var(--dark);
      }

      .tooltip-trigger:hover .tooltip-content {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(-12px);
      }

      /* Feature Cards */
      .feature-card {
        background: white;
        border: 2px solid var(--border);
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        text-align: center;
        transition: all var(--transition-normal);
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .feature-card::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: var(--radius-full);
        background: var(--primary-light);
        transform: translate(-50%, -50%);
        transition: all var(--transition-slow);
      }

      .feature-card:hover::after {
        width: 200%;
        height: 200%;
        opacity: 0.1;
      }

      .feature-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-hover);
        border-color: var(--primary);
      }

      .feature-card.selected {
        background: var(--primary-light);
        border-color: var(--primary);
      }

      .feature-card.locked {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .feature-card.locked:hover {
        transform: none;
        box-shadow: none;
      }

      .feature-icon {
        font-size: 64px;
        margin-bottom: var(--spacing-md);
        position: relative;
        z-index: 1;
      }

      .feature-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: var(--spacing-sm);
        position: relative;
        z-index: 1;
      }

      .feature-description {
        color: var(--gray);
        font-size: 14px;
        position: relative;
        z-index: 1;
      }

      /* Drag & Drop Zone */
      .drop-zone {
        border: 3px dashed var(--border);
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        text-align: center;
        background: var(--light-gray);
        transition: all var(--transition-normal);
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .drop-zone.active {
        border-color: var(--primary);
        background: var(--primary-light);
        transform: scale(1.02);
      }

      .drop-zone-icon {
        font-size: 48px;
        color: var(--gray);
        margin-bottom: var(--spacing-md);
      }

      .drop-zone.active .drop-zone-icon {
        color: var(--primary);
        animation: bounce 1s infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      /* Buttons */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 12px 24px;
        border: none;
        border-radius: var(--radius-md);
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: all var(--transition-normal);
        text-decoration: none;
        gap: var(--spacing-sm);
        position: relative;
        overflow: hidden;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: var(--radius-full);
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition:
          width 0.6s,
          height 0.6s;
      }

      .btn:active::before {
        width: 300px;
        height: 300px;
      }

      .btn-primary {
        background: var(--primary);
        color: white;
      }

      .btn-primary:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      .btn-success {
        background: var(--success);
        color: white;
      }

      .btn-secondary {
        background: var(--gray);
        color: white;
      }

      .btn-large {
        padding: 16px 32px;
        font-size: 18px;
      }

      /* Loading States */
      .skeleton {
        background: linear-gradient(
          90deg,
          #f0f0f0 25%,
          #e0e0e0 50%,
          #f0f0f0 75%
        );
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
        border-radius: var(--radius-sm);
      }

      @keyframes shimmer {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }

      .skeleton-text {
        height: 16px;
        margin-bottom: var(--spacing-sm);
        width: 80%;
      }

      .skeleton-title {
        height: 24px;
        margin-bottom: var(--spacing-md);
        width: 60%;
      }

      /* Interactive Demo Styles */
      .demo-container {
        background: white;
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        box-shadow: var(--shadow-lg);
      }

      /* Grid System */
      .grid {
        display: grid;
        gap: var(--spacing-lg);
      }

      .grid-2 {
        grid-template-columns: repeat(2, 1fr);
      }
      .grid-3 {
        grid-template-columns: repeat(3, 1fr);
      }
      .grid-4 {
        grid-template-columns: repeat(4, 1fr);
      }

      @media (max-width: 768px) {
        .grid-2,
        .grid-3,
        .grid-4 {
          grid-template-columns: 1fr;
        }
      }

      /* Animation Classes */
      .fade-in {
        animation: fadeIn 0.5s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .slide-in {
        animation: slideIn 0.5s ease-out;
      }

      @keyframes slideIn {
        from {
          transform: translateX(-100%);
        }
        to {
          transform: translateX(0);
        }
      }

      /* Success Animation */
      .success-checkmark {
        width: 80px;
        height: 80px;
        margin: 0 auto;
      }

      .success-checkmark svg {
        width: 100%;
        height: 100%;
      }

      .success-checkmark .circle {
        stroke-dasharray: 166;
        stroke-dashoffset: 166;
        stroke-width: 2;
        stroke: var(--success);
        fill: none;
        animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
      }

      .success-checkmark .check {
        transform-origin: 50% 50%;
        stroke-dasharray: 48;
        stroke-dashoffset: 48;
        stroke: var(--success);
        animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
      }

      @keyframes stroke {
        100% {
          stroke-dashoffset: 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="component-section">
        <div class="component-header">
          <h1>FreelanceOS Component Library & Implementation Guide</h1>
          <p>
            Production-ready components with interactive demos and code examples
          </p>
        </div>
      </div>

      <!-- Progress Steps Component -->
      <div class="component-section">
        <div class="component-header">
          <h2>1. Progress Steps Component</h2>
          <p>Visual progress indicator for multi-step processes</p>
        </div>

        <div class="component-demo">
          <div class="progress-steps" id="demo-progress">
            <div class="progress-step completed">
              <div class="step-circle">✓</div>
              <span class="step-label">Welcome</span>
            </div>
            <div class="step-line completed"></div>
            <div class="progress-step completed">
              <div class="step-circle">✓</div>
              <span class="step-label">Setup</span>
            </div>
            <div class="step-line"></div>
            <div class="progress-step active">
              <div class="step-circle">3</div>
              <span class="step-label">Platform</span>
            </div>
            <div class="step-line"></div>
            <div class="progress-step">
              <div class="step-circle">4</div>
              <span class="step-label">Analysis</span>
            </div>
          </div>

          <div style="text-align: center; margin-top: 20px">
            <button class="btn btn-primary" onclick="advanceProgress()">
              Next Step
            </button>
            <button class="btn btn-secondary" onclick="resetProgress()">
              Reset
            </button>
          </div>
        </div>

        <h3>Implementation Code</h3>
        <pre class="code-block">
// React Component Implementation
import React, { useState } from 'react';

const ProgressSteps = ({ steps, currentStep }) => {
  const [current, setCurrent] = useState(currentStep || 0);
  
  return (
    &lt;div className="progress-steps"&gt;
      {steps.map((step, index) =&gt; (
        &lt;React.Fragment key={index}&gt;
          &lt;div className={`progress-step ${
            index < current ? 'completed' : 
            index === current ? 'active' : ''
          }`}&gt;
            &lt;div className="step-circle"&gt;
              {index < current ? '✓' : index + 1}
            &lt;/div&gt;
            &lt;span className="step-label"&gt;{step.label}&lt;/span&gt;
          &lt;/div&gt;
          {index < steps.length - 1 && (
            &lt;div className={`step-line ${
              index < current ? 'completed' : ''
            }`} /&gt;
          )}
        &lt;/React.Fragment&gt;
      ))}
    &lt;/div&gt;
  );
};

// Usage Example
const steps = [
  { label: 'Welcome', completed: true },
  { label: 'Setup', completed: true },
  { label: 'Platform', active: true },
  { label: 'Analysis' }
];

// State Management with localStorage
const saveProgress = (step) => {
  localStorage.setItem('onboardingStep', step);
};

const loadProgress = () => {
  return parseInt(localStorage.getItem('onboardingStep') || '0');
};</pre
        >
      </div>

      <!-- Metric Cards Component -->
      <div class="component-section">
        <div class="component-header">
          <h2>2. Metric Cards with Animation</h2>
          <p>Eye-catching metrics display with hover effects</p>
        </div>

        <div class="component-demo">
          <div class="grid grid-3">
            <div class="metric-card" onclick="animateMetric(this)">
              <div class="metric-icon">📊</div>
              <div class="metric-value">95%</div>
              <div class="metric-label">Match Score</div>
              <div class="metric-trend">↑ 12% vs last week</div>
            </div>
            <div class="metric-card" onclick="animateMetric(this)">
              <div class="metric-icon">💰</div>
              <div class="metric-value">$5.2k</div>
              <div class="metric-label">Avg Project Value</div>
              <div class="metric-trend">↑ 25% increase</div>
            </div>
            <div class="metric-card" onclick="animateMetric(this)">
              <div class="metric-icon">🎯</div>
              <div class="metric-value">32</div>
              <div class="metric-label">Opportunities</div>
              <div class="metric-trend down">↓ 5% decrease</div>
            </div>
          </div>
        </div>

        <h3>Implementation with Real-time Updates</h3>
        <pre class="code-block">
// Real-time Metric Card Component
const MetricCard = ({ icon, value, label, trend, onClick }) => {
  const [isAnimating, setIsAnimating] = useState(false);
  const [displayValue, setDisplayValue] = useState(0);
  
  // Animate number counting up
  useEffect(() => {
    if (typeof value === 'number') {
      const duration = 1000;
      const steps = 20;
      const increment = value / steps;
      let current = 0;
      
      const timer = setInterval(() => {
        current += increment;
        if (current >= value) {
          setDisplayValue(value);
          clearInterval(timer);
        } else {
          setDisplayValue(Math.floor(current));
        }
      }, duration / steps);
      
      return () => clearInterval(timer);
    }
  }, [value]);
  
  const handleClick = () => {
    setIsAnimating(true);
    setTimeout(() => setIsAnimating(false), 600);
    onClick?.();
  };
  
  return (
    &lt;div 
      className={`metric-card ${isAnimating ? 'pulse' : ''}`}
      onClick={handleClick}
    &gt;
      &lt;div className="metric-icon"&gt;{icon}&lt;/div&gt;
      &lt;div className="metric-value"&gt;
        {typeof value === 'number' ? displayValue : value}
      &lt;/div&gt;
      &lt;div className="metric-label"&gt;{label}&lt;/div&gt;
      {trend && (
        &lt;div className={`metric-trend ${trend.direction}`}&gt;
          {trend.arrow} {trend.text}
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
};</pre
        >
      </div>

      <!-- Job Card Component -->
      <div class="component-section">
        <div class="component-header">
          <h2>3. Smart Job Cards</h2>
          <p>Information-rich job display with visual hierarchy</p>
        </div>

        <div class="component-demo">
          <div class="job-card high-value" id="demo-job-card">
            <div class="job-header">
              <div>
                <h3 class="job-title">
                  Full-Stack Developer for SaaS Platform
                </h3>
                <div class="job-meta">
                  <span>💰 $5,000 - $10,000</span>
                  <span>📅 Posted 2 hours ago</span>
                  <span>📍 Remote</span>
                </div>
              </div>
            </div>
            <div class="job-badges">
              <span class="badge badge-success">95% Match</span>
              <span class="badge badge-primary">Low Competition (3)</span>
              <span class="badge badge-warning">
                Urgent
                <span class="tooltip-trigger">
                  <span class="tooltip-icon">?</span>
                  <span class="tooltip-content">Client needs someone ASAP</span>
                </span>
              </span>
            </div>
          </div>

          <div style="margin-top: 20px">
            <button class="btn btn-primary" onclick="selectJob()">
              Analyze This Job
            </button>
            <button class="btn btn-secondary" onclick="loadMoreJobs()">
              Load More Jobs
            </button>
          </div>
        </div>

        <h3>Job Analysis Algorithm</h3>
        <pre class="code-block">
// Job Scoring & Analysis Engine
class JobAnalyzer {
  constructor() {
    this.weights = {
      budget: 0.3,
      competition: 0.25,
      clientHistory: 0.2,
      skillMatch: 0.15,
      timing: 0.1
    };
  }
  
  analyzeJob(job, userProfile) {
    const scores = {
      budget: this.scoreBudget(job.budget),
      competition: this.scoreCompetition(job.proposals),
      clientHistory: this.scoreClient(job.client),
      skillMatch: this.scoreSkills(job.skills, userProfile.skills),
      timing: this.scoreTiming(job.posted_time)
    };
    
    // Calculate weighted score
    const totalScore = Object.entries(scores).reduce(
      (sum, [key, score]) => sum + score * this.weights[key], 0
    );
    
    return {
      score: Math.round(totalScore),
      breakdown: scores,
      recommendations: this.generateRecommendations(scores, job),
      psychologyProfile: this.analyzeClientPsychology(job)
    };
  }
  
  scoreBudget(budget) {
    // Extract numeric value from budget string
    const value = this.extractBudgetValue(budget);
    if (value > 5000) return 100;
    if (value > 2000) return 80;
    if (value > 1000) return 60;
    if (value > 500) return 40;
    return 20;
  }
  
  scoreCompetition(proposalCount) {
    const count = parseInt(proposalCount?.match(/\d+/)?.[0] || 999);
    if (count < 5) return 100;
    if (count < 10) return 80;
    if (count < 20) return 60;
    if (count < 50) return 40;
    return 20;
  }
  
  analyzeClientPsychology(job) {
    const description = job.description?.toLowerCase() || '';
    const title = job.title?.toLowerCase() || '';
    const text = description + ' ' + title;
    
    const profiles = {
      'time-starved': {
        keywords: ['urgent', 'asap', 'quickly', 'fast', 'immediately'],
        score: 0
      },
      'analytical': {
        keywords: ['data', 'metrics', 'analysis', 'detailed', 'technical'],
        score: 0
      },
      'creative': {
        keywords: ['creative', 'design', 'innovative', 'unique', 'artistic'],
        score: 0
      },
      'budget-conscious': {
        keywords: ['budget', 'cost', 'affordable', 'value', 'efficient'],
        score: 0
      }
    };
    
    // Score each profile
    Object.entries(profiles).forEach(([type, profile]) => {
      profile.keywords.forEach(keyword => {
        if (text.includes(keyword)) {
          profiles[type].score++;
        }
      });
    });
    
    // Find dominant type
    const dominant = Object.entries(profiles).reduce(
      (max, [type, profile]) => 
        profile.score > max.score ? {type, score: profile.score} : max,
      {type: 'analytical', score: 0}
    );
    
    return {
      type: dominant.type,
      confidence: Math.min(95, 60 + (dominant.score * 10)),
      strategy: this.getStrategy(dominant.type)
    };
  }
}</pre
        >
      </div>

      <!-- Drag & Drop Component -->
      <div class="component-section">
        <div class="component-header">
          <h2>4. Smart Drag & Drop CSV Import</h2>
          <p>Intuitive file upload with validation and preview</p>
        </div>

        <div class="component-demo">
          <div class="drop-zone" id="drop-zone">
            <div class="drop-zone-icon">📁</div>
            <h3>Drag & Drop Your CSV File Here</h3>
            <p>or click to browse</p>
            <input
              type="file"
              id="file-input"
              accept=".csv"
              style="display: none"
            />
            <button
              class="btn btn-secondary"
              onclick="document.getElementById('file-input').click()"
            >
              Choose File
            </button>
          </div>

          <div id="file-preview" style="display: none; margin-top: 20px">
            <h4>File Preview</h4>
            <div class="skeleton">
              <div class="skeleton-title"></div>
              <div class="skeleton-text"></div>
              <div class="skeleton-text"></div>
            </div>
          </div>
        </div>

        <h3>Implementation with PapaParse</h3>
        <pre class="code-block">
// Advanced CSV Import Handler
class CSVImporter {
  constructor(onSuccess, onError) {
    this.onSuccess = onSuccess;
    this.onError = onError;
    this.setupDropZone();
  }
  
  setupDropZone() {
    const dropZone = document.getElementById('drop-zone');
    const fileInput = document.getElementById('file-input');
    
    // Drag and drop events
    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.classList.add('active');
    });
    
    dropZone.addEventListener('dragleave', () => {
      dropZone.classList.remove('active');
    });
    
    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.classList.remove('active');
      
      const files = e.dataTransfer.files;
      if (files.length) {
        this.handleFile(files[0]);
      }
    });
    
    // File input change
    fileInput.addEventListener('change', (e) => {
      if (e.target.files.length) {
        this.handleFile(e.target.files[0]);
      }
    });
  }
  
  handleFile(file) {
    // Validate file type
    if (!file.name.endsWith('.csv')) {
      this.onError('Please upload a CSV file');
      return;
    }
    
    // Validate file size (max 10MB)
    if (file.size > 10 * 1024 * 1024) {
      this.onError('File size must be less than 10MB');
      return;
    }
    
    // Show preview
    this.showPreview(file);
    
    // Parse CSV
    Papa.parse(file, {
      header: true,
      dynamicTyping: true,
      skipEmptyLines: true,
      complete: (results) => {
        this.validateAndProcess(results);
      },
      error: (error) => {
        this.onError(`Parse error: ${error.message}`);
      }
    });
  }
  
  validateAndProcess(results) {
    // Check for required columns
    const requiredColumns = ['job_title', 'budget_fixed', 'proposals'];
    const headers = results.meta.fields;
    const missingColumns = requiredColumns.filter(
      col => !headers.includes(col)
    );
    
    if (missingColumns.length) {
      this.onError(`Missing columns: ${missingColumns.join(', ')}`);
      return;
    }
    
    // Process and enrich data
    const processedData = results.data.map(row => ({
      ...row,
      budget_value: this.extractBudgetValue(row),
      risk_score: this.calculateRiskScore(row),
      match_score: this.calculateMatchScore(row),
      imported_at: new Date().toISOString()
    }));
    
    // Success callback
    this.onSuccess({
      data: processedData,
      summary: {
        total: processedData.length,
        highValue: processedData.filter(j => j.budget_value > 1000).length,
        lowCompetition: processedData.filter(j => 
          parseInt(j.proposals?.match(/\d+/)?.[0] || 999) < 10
        ).length
      }
    });
  }
  
  extractBudgetValue(row) {
    const fixed = parseFloat(row.budget_fixed?.replace(/[$,]/g, '') || 0);
    const min = parseFloat(row.budget_min?.replace(/[$,]/g, '') || 0);
    const max = parseFloat(row.budget_max?.replace(/[$,]/g, '') || 0);
    
    return fixed || (min + max) / 2 || min || max || 0;
  }
}</pre
        >
      </div>

      <!-- Smart Tooltips -->
      <div class="component-section">
        <div class="component-header">
          <h2>5. Contextual Help System</h2>
          <p>Smart tooltips that educate without overwhelming</p>
        </div>

        <div class="component-demo">
          <h3>Interactive Demo - Hover over the metrics</h3>
          <div
            style="
              display: flex;
              gap: 20px;
              flex-wrap: wrap;
              align-items: center;
            "
          >
            <div class="tooltip-trigger">
              <span style="font-weight: bold">Risk Score: 85/100</span>
              <span class="tooltip-icon">?</span>
              <span class="tooltip-content">
                Based on client payment history, project clarity, and budget
                reliability
              </span>
            </div>

            <div class="tooltip-trigger">
              <span style="font-weight: bold">Competition: LOW (5)</span>
              <span class="tooltip-icon">?</span>
              <span class="tooltip-content">
                Only 5 proposals submitted. Apply within 2 hours for best
                results!
              </span>
            </div>

            <div class="tooltip-trigger">
              <span style="font-weight: bold">Client Type: Time-Starved</span>
              <span class="tooltip-icon">?</span>
              <span class="tooltip-content">
                This client values speed. Emphasize quick delivery in your
                proposal.
              </span>
            </div>
          </div>
        </div>

        <h3>Smart Help System Implementation</h3>
        <pre class="code-block">
// Contextual Help System
class HelpSystem {
  constructor() {
    this.helpDatabase = {
      'risk_score': {
        title: 'Risk Score Explained',
        content: 'Combines payment verification, client history, and project clarity',
        tips: [
          'Scores above 80 are very safe',
          'Scores 60-80 are moderate risk',
          'Below 60 requires caution'
        ]
      },
      'competition': {
        title: 'Competition Level',
        content: 'Number of freelancers who have applied',
        tips: [
          'Under 10: Low competition (best chance)',
          '10-30: Medium competition',
          'Over 30: High competition (apply quickly)'
        ]
      },
      'client_psychology': {
        title: 'Client Psychology Types',
        content: 'AI-detected personality patterns',
        types: {
          'time-starved': 'Values speed and efficiency',
          'analytical': 'Wants detailed proposals and data',
          'creative': 'Appreciates innovative approaches',
          'budget-conscious': 'Focused on value and ROI'
        }
      }
    };
    
    this.userLevel = this.getUserLevel();
    this.init();
  }
  
  getUserLevel() {
    return localStorage.getItem('userLevel') || 'beginner';
  }
  
  init() {
    // Add help triggers to all relevant elements
    document.querySelectorAll('[data-help]').forEach(element => {
      const helpKey = element.dataset.help;
      
      // Create tooltip
      const tooltip = this.createTooltip(helpKey);
      element.appendChild(tooltip);
      
      // Track help usage
      element.addEventListener('mouseenter', () => {
        this.trackHelpUsage(helpKey);
      });
    });
    
    // Keyboard shortcut for help mode
    document.addEventListener('keydown', (e) => {
      if (e.key === 'h' && e.ctrlKey) {
        this.toggleHelpMode();
      }
    });
  }
  
  createTooltip(key) {
    const help = this.helpDatabase[key];
    if (!help) return null;
    
    const tooltip = document.createElement('div');
    tooltip.className = 'smart-tooltip';
    
    // Adaptive content based on user level
    if (this.userLevel === 'beginner') {
      tooltip.innerHTML = `
        &lt;h4&gt;${help.title}&lt;/h4&gt;
        &lt;p&gt;${help.content}&lt;/p&gt;
        ${help.tips ? `
          &lt;ul&gt;
            ${help.tips.map(tip => `&lt;li&gt;${tip}&lt;/li&gt;`).join('')}
          &lt;/ul&gt;
        ` : ''}
      `;
    } else {
      // Simplified for experienced users
      tooltip.innerHTML = help.content;
    }
    
    return tooltip;
  }
  
  trackHelpUsage(key) {
    const usage = JSON.parse(localStorage.getItem('helpUsage') || '{}');
    usage[key] = (usage[key] || 0) + 1;
    localStorage.setItem('helpUsage', JSON.stringify(usage));
    
    // Auto-adjust user level based on usage
    const totalUsage = Object.values(usage).reduce((a, b) => a + b, 0);
    if (totalUsage < 10 && this.userLevel !== 'beginner') {
      this.userLevel = 'intermediate';
      localStorage.setItem('userLevel', 'intermediate');
    }
  }
}</pre
        >
      </div>

      <!-- Success Animation -->
      <div class="component-section">
        <div class="component-header">
          <h2>6. Delightful Success States</h2>
          <p>Celebrate user achievements with smooth animations</p>
        </div>

        <div class="component-demo">
          <div style="text-align: center">
            <div
              class="success-checkmark"
              id="success-animation"
              style="display: none"
            >
              <svg viewBox="0 0 52 52">
                <circle class="circle" cx="26" cy="26" r="25" fill="none" />
                <path
                  class="check"
                  fill="none"
                  d="M14.1 27.2l7.1 7.2 16.7-16.8"
                />
              </svg>
            </div>

            <div id="success-message" style="display: none" class="fade-in">
              <h3 style="color: var(--success); margin: 20px 0">
                Success! Job Analyzed
              </h3>
              <p>We found 3 high-value opportunities perfect for your skills</p>
            </div>

            <button class="btn btn-success" onclick="showSuccess()">
              Trigger Success Animation
            </button>
          </div>
        </div>

        <h3>Animation Controller</h3>
        <pre class="code-block">
// Success Animation Controller
class AnimationController {
  constructor() {
    this.animations = {
      success: this.successAnimation,
      error: this.errorAnimation,
      loading: this.loadingAnimation
    };
  }
  
  successAnimation(message, callback) {
    const checkmark = document.getElementById('success-animation');
    const messageEl = document.getElementById('success-message');
    
    // Show and animate checkmark
    checkmark.style.display = 'block';
    checkmark.classList.add('animate');
    
    // Show message after checkmark
    setTimeout(() => {
      messageEl.style.display = 'block';
      messageEl.querySelector('p').textContent = message;
    }, 800);
    
    // Callback after animation
    setTimeout(() => {
      callback?.();
    }, 2000);
    
    // Track success events
    this.trackEvent('success_animation_shown', { message });
  }
  
  // Micro-interactions for better UX
  addMicroInteractions() {
    // Button click feedback
    document.querySelectorAll('.btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        // Ripple effect
        const ripple = document.createElement('span');
        ripple.className = 'ripple';
        this.appendChild(ripple);
        
        const rect = this.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size/2;
        const y = e.clientY - rect.top - size/2;
        
        ripple.style.width = ripple.style.height = size + 'px';
        ripple.style.left = x + 'px';
        ripple.style.top = y + 'px';
        
        setTimeout(() => ripple.remove(), 600);
      });
    });
    
    // Hover feedback for cards
    document.querySelectorAll('.job-card, .metric-card').forEach(card => {
      card.addEventListener('mouseenter', () => {
        card.style.transform = 'translateY(-2px)';
      });
      
      card.addEventListener('mouseleave', () => {
        card.style.transform = 'translateY(0)';
      });
    });
  }
  
  // Haptic feedback for mobile
  triggerHaptic(type = 'light') {
    if ('vibrate' in navigator) {
      const patterns = {
        light: [10],
        medium: [20],
        heavy: [30],
        success: [10, 50, 10],
        error: [50, 100, 50]
      };
      
      navigator.vibrate(patterns[type] || patterns.light);
    }
  }
}</pre
        >
      </div>

      <!-- Interactive Demo -->
      <div class="component-section">
        <div class="component-header">
          <h2>7. Complete Interactive Onboarding Demo</h2>
          <p>Try the full onboarding experience</p>
        </div>

        <div class="demo-container">
          <div id="onboarding-demo">
            <!-- This would be the full interactive demo -->
            <h3 style="text-align: center">Click to Start Interactive Demo</h3>
            <div style="text-align: center; margin-top: 30px">
              <button
                class="btn btn-primary btn-large"
                onclick="startOnboardingDemo()"
              >
                Start Onboarding Experience
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Performance Optimization -->
      <div class="component-section">
        <div class="component-header">
          <h2>8. Performance & User Experience Optimizations</h2>
        </div>

        <h3>Critical Performance Code</h3>
        <pre class="code-block">
// Performance Optimization Utilities
class PerformanceOptimizer {
  constructor() {
    this.observer = null;
    this.init();
  }
  
  init() {
    // Lazy load images and heavy components
    this.setupLazyLoading();
    
    // Debounce scroll and resize events
    this.optimizeEventListeners();
    
    // Preload critical resources
    this.preloadResources();
    
    // Enable smooth animations only for capable devices
    this.detectPerformanceCapabilities();
  }
  
  setupLazyLoading() {
    const options = {
      root: null,
      rootMargin: '50px',
      threshold: 0.01
    };
    
    this.observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const element = entry.target;
          
          // Load images
          if (element.dataset.src) {
            element.src = element.dataset.src;
            element.removeAttribute('data-src');
          }
          
          // Load components
          if (element.dataset.component) {
            this.loadComponent(element.dataset.component, element);
          }
          
          this.observer.unobserve(element);
        }
      });
    }, options);
    
    // Observe all lazy elements
    document.querySelectorAll('[data-lazy]').forEach(el => {
      this.observer.observe(el);
    });
  }
  
  optimizeEventListeners() {
    // Debounce utility
    const debounce = (func, wait) => {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    };
    
    // Throttle utility
    const throttle = (func, limit) => {
      let inThrottle;
      return function(...args) {
        if (!inThrottle) {
          func.apply(this, args);
          inThrottle = true;
          setTimeout(() => inThrottle = false, limit);
        }
      };
    };
    
    // Optimize scroll events
    window.addEventListener('scroll', throttle(() => {
      this.handleScroll();
    }, 100));
    
    // Optimize resize events
    window.addEventListener('resize', debounce(() => {
      this.handleResize();
    }, 250));
  }
  
  detectPerformanceCapabilities() {
    // Check for reduced motion preference
    const prefersReducedMotion = window.matchMedia(
      '(prefers-reduced-motion: reduce)'
    ).matches;
    
    if (prefersReducedMotion) {
      document.body.classList.add('reduce-motion');
    }
    
    // Check device capabilities
    const deviceMemory = navigator.deviceMemory || 4;
    const connection = navigator.connection;
    
    if (deviceMemory < 4 || connection?.saveData) {
      document.body.classList.add('optimize-performance');
    }
  }
  
  // Preload next likely actions
  preloadResources() {
    const preloadLink = (href, as) => {
      const link = document.createElement('link');
      link.rel = 'preload';
      link.href = href;
      link.as = as;
      document.head.appendChild(link);
    };
    
    // Preload next step resources
    if (window.currentStep === 'welcome') {
      preloadLink('/api/sample-jobs', 'fetch');
    }
  }
}</pre
        >
      </div>

      <!-- Customer Psychology Insights -->
      <div class="component-section" style="background: var(--warning-light)">
        <div class="component-header">
          <h2>🧠 Additional Customer Psychology Insights</h2>
          <p>Deep understanding of freelancer behavior and pain points</p>
        </div>

        <div class="grid grid-2">
          <div>
            <h3>Key Behavioral Patterns</h3>
            <ul style="line-height: 2">
              <li>
                <strong>Analysis Paralysis:</strong> Freelancers spend 2-3 hours
                daily browsing jobs but apply to only 2-3. They need confidence
                boosters and clear action triggers.
              </li>
              <li>
                <strong>Imposter Syndrome:</strong> 73% undervalue their skills.
                Show them matches based on actual capabilities, not
                self-perception.
              </li>
              <li>
                <strong>FOMO-driven:</strong> Fear of missing good
                opportunities. Use scarcity indicators wisely (e.g., "2 others
                viewing").
              </li>
              <li>
                <strong>Trust Issues:</strong> Bad client experiences make them
                cautious. Risk scores address this directly.
              </li>
              <li>
                <strong>Time Anxiety:</strong> Constantly worried about
                feast/famine cycles. Show pipeline health metrics.
              </li>
            </ul>
          </div>

          <div>
            <h3>Emotional Journey Mapping</h3>
            <ul style="line-height: 2">
              <li>
                <strong>Discovery:</strong> "Is this another tool that
                overpromises?" → Show immediate, tangible value
              </li>
              <li>
                <strong>First Success:</strong> "Wow, I missed this
                opportunity!" → Reinforce with more wins
              </li>
              <li>
                <strong>Habit Formation:</strong> "This is part of my routine
                now" → Daily engagement hooks
              </li>
              <li>
                <strong>Advocacy:</strong> "I tell everyone about this" →
                Referral incentives
              </li>
              <li>
                <strong>Dependency:</strong> "I can't work without it" → Ensure
                reliability
              </li>
            </ul>
          </div>
        </div>

        <div style="margin-top: 30px">
          <h3>Design Decisions Based on Psychology</h3>
          <div class="grid grid-3">
            <div style="padding: 20px; background: white; border-radius: 8px">
              <h4>Reduce Cognitive Load</h4>
              <p>
                Show only 3 top opportunities at once. More creates decision
                paralysis.
              </p>
            </div>
            <div style="padding: 20px; background: white; border-radius: 8px">
              <h4>Social Proof Everywhere</h4>
              <p>
                "12 freelancers won similar jobs using this approach" -
                validates their actions.
              </p>
            </div>
            <div style="padding: 20px; background: white; border-radius: 8px">
              <h4>Progress Gamification</h4>
              <p>
                Weekly earnings goals, streak counters, and level-ups maintain
                engagement.
              </p>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 8px;
          "
        >
          <h3>🎯 The "Aha!" Moment Strategy</h3>
          <p>
            Research shows freelancers need to experience value within 3 minutes
            or they abandon the platform. Our onboarding is designed to deliver
            multiple "aha!" moments:
          </p>
          <ol style="margin-top: 15px; line-height: 2">
            <li>
              <strong>Minute 1:</strong> "This actually understands my pain"
              (problem validation)
            </li>
            <li>
              <strong>Minute 2:</strong> "It found opportunities I missed!"
              (immediate value)
            </li>
            <li>
              <strong>Minute 3:</strong> "This proposal would actually work"
              (actionable insight)
            </li>
            <li>
              <strong>Day 1:</strong> "I won my first job using this" (real
              success)
            </li>
            <li>
              <strong>Week 1:</strong> "My income is actually increasing"
              (proven ROI)
            </li>
          </ol>
        </div>
      </div>
    </div>

    <script>
      // Demo Interactions
      let currentStep = 2;
      const totalSteps = 4;

      function advanceProgress() {
        if (currentStep < totalSteps - 1) {
          currentStep++;
          updateProgressDisplay();
        }
      }

      function resetProgress() {
        currentStep = 0;
        updateProgressDisplay();
      }

      function updateProgressDisplay() {
        const steps = document.querySelectorAll(
          "#demo-progress .progress-step",
        );
        const lines = document.querySelectorAll("#demo-progress .step-line");

        steps.forEach((step, index) => {
          step.classList.remove("active", "completed");
          if (index < currentStep) {
            step.classList.add("completed");
            step.querySelector(".step-circle").textContent = "✓";
          } else if (index === currentStep) {
            step.classList.add("active");
            step.querySelector(".step-circle").textContent = index + 1;
          } else {
            step.querySelector(".step-circle").textContent = index + 1;
          }
        });

        lines.forEach((line, index) => {
          line.classList.toggle("completed", index < currentStep);
        });
      }

      function animateMetric(card) {
        card.style.transform = "scale(1.1)";
        setTimeout(() => {
          card.style.transform = "scale(1)";
        }, 300);
      }

      function selectJob() {
        const jobCard = document.getElementById("demo-job-card");
        jobCard.classList.add("selected");
        showSuccess();
      }

      function showSuccess() {
        const checkmark = document.getElementById("success-animation");
        const message = document.getElementById("success-message");

        checkmark.style.display = "block";
        message.style.display = "none";

        // Reset animation
        const newCheckmark = checkmark.cloneNode(true);
        checkmark.parentNode.replaceChild(newCheckmark, checkmark);

        setTimeout(() => {
          message.style.display = "block";
        }, 800);
      }

      function loadMoreJobs() {
        // Simulate loading
        const btn = event.target;
        btn.textContent = "Loading...";
        btn.disabled = true;

        setTimeout(() => {
          btn.textContent = "Load More Jobs";
          btn.disabled = false;
        }, 1000);
      }

      function startOnboardingDemo() {
        alert("Full interactive demo would launch here!");
      }

      // Initialize drag and drop
      const dropZone = document.getElementById("drop-zone");
      if (dropZone) {
        dropZone.addEventListener("dragover", (e) => {
          e.preventDefault();
          dropZone.classList.add("active");
        });

        dropZone.addEventListener("dragleave", () => {
          dropZone.classList.remove("active");
        });

        dropZone.addEventListener("drop", (e) => {
          e.preventDefault();
          dropZone.classList.remove("active");
          document.getElementById("file-preview").style.display = "block";
        });
      }
    </script>
  </body>
</html>
